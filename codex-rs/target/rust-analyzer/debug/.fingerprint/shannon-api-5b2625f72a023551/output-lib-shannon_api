{"$message_type":"diagnostic","message":"redundant closure","code":{"code":"clippy::redundant_closure_for_method_calls","explanation":null},"level":"error","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4181,"byte_end":4195,"line_start":110,"line_end":110,"column_start":63,"column_end":77,"is_primary":true,"text":[{"text":"            input_tokens: usage.get(\"prompt_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),","highlight_start":63,"highlight_end":77}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"requested on the command line with `-D clippy::redundant-closure-for-method-calls`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"replace the closure with the method itself","code":null,"level":"help","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4181,"byte_end":4195,"line_start":110,"line_end":110,"column_start":63,"column_end":77,"is_primary":true,"text":[{"text":"            input_tokens: usage.get(\"prompt_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),","highlight_start":63,"highlight_end":77}],"label":null,"suggested_replacement":"serde_json::Value::as_i64","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: redundant closure\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mshannon-api/src/sse/chat.rs:110:63\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m110\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             input_tokens: usage.get(\"prompt_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),\n    \u001b[1m\u001b[94m|\u001b[0m                                                               \u001b[1m\u001b[91m^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mhelp: replace the closure with the method itself: `serde_json::Value::as_i64`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: requested on the command line with `-D clippy::redundant-closure-for-method-calls`\n\n"}
{"$message_type":"diagnostic","message":"redundant closure","code":{"code":"clippy::redundant_closure_for_method_calls","explanation":null},"level":"error","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4278,"byte_end":4292,"line_start":111,"line_end":111,"column_start":68,"column_end":82,"is_primary":true,"text":[{"text":"            output_tokens: usage.get(\"completion_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),","highlight_start":68,"highlight_end":82}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"replace the closure with the method itself","code":null,"level":"help","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4278,"byte_end":4292,"line_start":111,"line_end":111,"column_start":68,"column_end":82,"is_primary":true,"text":[{"text":"            output_tokens: usage.get(\"completion_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),","highlight_start":68,"highlight_end":82}],"label":null,"suggested_replacement":"serde_json::Value::as_i64","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: redundant closure\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mshannon-api/src/sse/chat.rs:111:68\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m111\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             output_tokens: usage.get(\"completion_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),\n    \u001b[1m\u001b[94m|\u001b[0m                                                                    \u001b[1m\u001b[91m^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mhelp: replace the closure with the method itself: `serde_json::Value::as_i64`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls\n\n"}
{"$message_type":"diagnostic","message":"redundant closure","code":{"code":"clippy::redundant_closure_for_method_calls","explanation":null},"level":"error","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4369,"byte_end":4383,"line_start":112,"line_end":112,"column_start":62,"column_end":76,"is_primary":true,"text":[{"text":"            total_tokens: usage.get(\"total_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),","highlight_start":62,"highlight_end":76}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"replace the closure with the method itself","code":null,"level":"help","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4369,"byte_end":4383,"line_start":112,"line_end":112,"column_start":62,"column_end":76,"is_primary":true,"text":[{"text":"            total_tokens: usage.get(\"total_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),","highlight_start":62,"highlight_end":76}],"label":null,"suggested_replacement":"serde_json::Value::as_i64","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: redundant closure\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mshannon-api/src/sse/chat.rs:112:62\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m112\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             total_tokens: usage.get(\"total_tokens\").and_then(|v| v.as_i64()).unwrap_or(0),\n    \u001b[1m\u001b[94m|\u001b[0m                                                              \u001b[1m\u001b[91m^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mhelp: replace the closure with the method itself: `serde_json::Value::as_i64`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls\n\n"}
{"$message_type":"diagnostic","message":"redundant closure","code":{"code":"clippy::redundant_closure_for_method_calls","explanation":null},"level":"error","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4547,"byte_end":4561,"line_start":115,"line_end":115,"column_start":27,"column_end":41,"is_primary":true,"text":[{"text":"                .and_then(|v| v.as_i64())","highlight_start":27,"highlight_end":41}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"replace the closure with the method itself","code":null,"level":"help","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4547,"byte_end":4561,"line_start":115,"line_end":115,"column_start":27,"column_end":41,"is_primary":true,"text":[{"text":"                .and_then(|v| v.as_i64())","highlight_start":27,"highlight_end":41}],"label":null,"suggested_replacement":"serde_json::Value::as_i64","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: redundant closure\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mshannon-api/src/sse/chat.rs:115:27\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m115\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 .and_then(|v| v.as_i64())\n    \u001b[1m\u001b[94m|\u001b[0m                           \u001b[1m\u001b[91m^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mhelp: replace the closure with the method itself: `serde_json::Value::as_i64`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls\n\n"}
{"$message_type":"diagnostic","message":"redundant closure","code":{"code":"clippy::redundant_closure_for_method_calls","explanation":null},"level":"error","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4753,"byte_end":4767,"line_start":119,"line_end":119,"column_start":27,"column_end":41,"is_primary":true,"text":[{"text":"                .and_then(|v| v.as_i64())","highlight_start":27,"highlight_end":41}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"replace the closure with the method itself","code":null,"level":"help","spans":[{"file_name":"shannon-api/src/sse/chat.rs","byte_start":4753,"byte_end":4767,"line_start":119,"line_end":119,"column_start":27,"column_end":41,"is_primary":true,"text":[{"text":"                .and_then(|v| v.as_i64())","highlight_start":27,"highlight_end":41}],"label":null,"suggested_replacement":"serde_json::Value::as_i64","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: redundant closure\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0mshannon-api/src/sse/chat.rs:119:27\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m119\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 .and_then(|v| v.as_i64())\n    \u001b[1m\u001b[94m|\u001b[0m                           \u001b[1m\u001b[91m^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[91mhelp: replace the closure with the method itself: `serde_json::Value::as_i64`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.93.0/index.html#redundant_closure_for_method_calls\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 5 previous errors","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: aborting due to 5 previous errors\u001b[0m\n\n"}
